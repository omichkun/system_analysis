# Описание

## Общее описание схемы

Система состоит из нескольких типов элементов. На схеме:

- зеленые – сервисы, необходимые для реализации
- синие – инфраструктура
- оранжевые – сервисы, для реализации которых можно использовать готовые решения вендоров

- Сплошные стрелки обозначают синхронное взаимодействие, пунктирные – асинхронное
- В местах, где пунктирная стрелка проходит через какую-либо из очередей (order или worker) имеется ввиду, что этот сервис отправляет асинхронные сообщения в другой сервис через очереди. 


## Компоненты

1. Auth – система аутентификации и авторизации. Содержит информацию обо всех пользователях системы с указанием их роли (воркер, менеджер, клиент)
1. Billing, PreBilling – сервис предварительного и фактического расчетов стоимостей заказов, начисления выплат, расчета штрафов, списания денег
1. Orders – основной сервис хранения и управления заказами. Принимает через асинхронные взаимодействия команды на изменения заказов (изменение статуса, назначение воркера на заказ итд) и отдает через очередь события о совершенных изменениях заказов. Другие сервисы коснюмят эти события и выбирают из них только необходимую им информацию
1. MCF Manager – основной сервис менеджера, в котором проходит его работа. Добавление новых воркеров, проверка качества заказов, начисление воркерам спонтанных начислений, создание ставок на заказы
1. MCF Client – основной сервис клиента. В нем он может создавать заказы, получать информацию о выполненных заказах, информацию о финансовых операциях
1. MCF Worker – сервис для воркеров. В нем воркер отмечает начало работы, окончание, подтверждает получение расходников итд
1. Matching – сервис матчинга
1. 1XBet – микросервис ставок
1. Testing – сервис тестирования новых воркеров



